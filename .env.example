# Environment Configuration Template
# Phase II Full-Stack Web Todo Application
# Docker Containerization and Database Connectivity Configuration

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# Neon PostgreSQL Database Connection
# Format: postgresql://USER:PASSWORD@HOST/DB_NAME?sslmode=require
#
# REQUIRED: This must be set to your Neon PostgreSQL connection string
# SSL mode 'require' is mandatory for Neon connections
#
# Example:
# DATABASE_URL=postgresql://myuser:mypassword@ep-example-12345.us-east-2.aws.neon.tech/mydb?sslmode=require
#
# How to get your Neon connection string:
# 1. Log into your Neon account at https://console.neon.tech
# 2. Select your project
# 3. Navigate to "Connection Details"
# 4. Copy the connection string
# 5. Ensure it includes ?sslmode=require at the end
#
DATABASE_URL=postgresql://YOUR_NEON_USER:YOUR_NEON_PASSWORD@YOUR_NEON_HOST/YOUR_NEON_DB?sslmode=require

# ==============================================================================
# JWT AUTHENTICATION CONFIGURATION
# ==============================================================================

# JWT Secret Key (REQUIRED - MUST BE GENERATED)
# This secret is used to sign and verify JWT authentication tokens
# SECURITY: NEVER use the default value in production
# MUST be a cryptographically secure random string with minimum 256-bit entropy (32 bytes)
#
# Generate a secure secret with one of these commands:
#
# Option 1 (Recommended - OpenSSL):
#   openssl rand -base64 32
#
# Option 2 (Python):
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# Option 3 (Node.js):
#   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
#
# Copy the output and paste it below:
JWT_SECRET_KEY=REPLACE_THIS_WITH_GENERATED_SECRET_FROM_COMMAND_ABOVE

# JWT Algorithm (Default: HS256)
# Standard HMAC with SHA-256 algorithm for JWT signing
# Do not change unless you have specific security requirements
JWT_ALGORITHM=HS256

# JWT Token Expiration Time (in minutes)
# Default: 30 minutes
# Adjust based on your security requirements
# Shorter = more secure but users need to re-authenticate more frequently
# Longer = more convenient but tokens valid for longer if compromised
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ==============================================================================
# FRONTEND CONFIGURATION
# ==============================================================================

# Frontend API URL
# This tells the Next.js frontend where to find the backend API
#
# For local development with Docker Compose:
# - Use http://localhost:8000/api (browser access from host machine)
#
# For production deployment:
# - Replace with your actual backend URL (e.g., https://api.yourdomain.com)
#
NEXT_PUBLIC_API_URL=http://localhost:8000/api

# ==============================================================================
# OPTIONAL CONFIGURATION
# ==============================================================================

# Better Auth Secret (Optional - for frontend authentication library)
# If using Better Auth library on frontend, generate another secure secret
# Use the same generation method as JWT_SECRET_KEY above
# BETTER_AUTH_SECRET=YOUR_GENERATED_SECRET_HERE

# Database Echo (Development Only)
# Set to true to see SQL queries in backend logs
# WARNING: Do not enable in production (performance impact + security risk)
# DB_ECHO=false

# ==============================================================================
# DEPLOYMENT CHECKLIST
# ==============================================================================
#
# Before deploying:
# ✓ Replace DATABASE_URL with actual Neon credentials
# ✓ Generate and set JWT_SECRET_KEY (NEVER use default)
# ✓ Update NEXT_PUBLIC_API_URL for production domain
# ✓ Verify all secrets are properly secured (not committed to git)
# ✓ Confirm .env file is in .gitignore
# ✓ Test application startup with all variables configured
#
# ==============================================================================

# ==============================================================================
# TROUBLESHOOTING
# ==============================================================================
#
# Application won't start?
# 1. Check DATABASE_URL format: postgresql://USER:PASSWORD@HOST/DB?sslmode=require
# 2. Verify JWT_SECRET_KEY is set (not the placeholder text)
# 3. Confirm Neon database is accessible from your network
# 4. Check for typos in variable names (they are case-sensitive)
#
# Database connection errors?
# 1. Verify Neon credentials are correct
# 2. Ensure ?sslmode=require is at the end of DATABASE_URL
# 3. Check network connectivity to Neon (try: ping console.neon.tech)
# 4. Confirm Neon database is not paused (can happen on free tier)
#
# JWT authentication errors?
# 1. Ensure JWT_SECRET_KEY matches between .env and actual environment
# 2. Verify secret is at least 32 bytes (256 bits) when base64 encoded
# 3. Check JWT_ALGORITHM is set to HS256
# 4. Confirm ACCESS_TOKEN_EXPIRE_MINUTES is a valid integer
#
# Frontend can't connect to backend?
# 1. Verify NEXT_PUBLIC_API_URL points to correct backend
# 2. Check backend is running: curl http://localhost:8000/health
# 3. Confirm ports 3000 and 8000 are not blocked by firewall
# 4. Ensure CORS is properly configured in backend
#
# ==============================================================================
